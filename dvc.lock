schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/external/pima-indians-diabetes.csv
      hash: md5
      md5: 939ca4458ca3c894dd7436677c04b942
      size: 23194
    - path: src/data/make_dataset.py
      hash: md5
      md5: 28dd734b1a8ae645af33270d65a33d4e
      size: 3159
    params:
      params.yaml:
        make_dataset.column_names:
        - Pregnancies
        - Glucose
        - BloodPressure
        - SkinThickness
        - Insulin
        - BMI
        - DiabetesPedigreeFunction
        - Age
        - Outcome
        make_dataset.data_source_url: 
          https://raw.githubusercontent.com/jbrownlee/Datasets/master/pima-indians-diabetes.data.csv
        make_dataset.random_state: 42
        make_dataset.test_size: 0.3
    outs:
    - path: data/interim/test_data.csv
      hash: md5
      md5: f7b6ba85447e0267c4c3d2493c23cbf5
      size: 7056
    - path: data/interim/train_data.csv
      hash: md5
      md5: 09439899b348fc173bac102880667c56
      size: 16332
  data_preprocessing:
    cmd: python src/data/process_dataset.py
    deps:
    - path: data/interim/train_data.csv
      hash: md5
      md5: 09439899b348fc173bac102880667c56
      size: 16332
    - path: src/data/process_dataset.py
      hash: md5
      md5: 06863a195d0e4443d027b3fa5d0d550a
      size: 1685
    params:
      params.yaml:
        process_dataset.column_name:
        - Insulin
  feature_engineering:
    cmd: python src/features/build_features.py
    deps:
    - path: data/interim/test_data.csv
      hash: md5
      md5: f7b6ba85447e0267c4c3d2493c23cbf5
      size: 7056
    - path: data/interim/train_data.csv
      hash: md5
      md5: 09439899b348fc173bac102880667c56
      size: 16332
    - path: src/features/build_features.py
      hash: md5
      md5: c17253d5765a5b7f657fcc290781ab44
      size: 3302
    outs:
    - path: data/processed/test_df_processed.csv
      hash: md5
      md5: 77869274fffc3f6deb51ea27b033194a
      size: 41063
    - path: data/processed/train_df_processed.csv
      hash: md5
      md5: 9024ce919cf268fcaa3aaff2bc324a4e
      size: 93077
  model_building:
    cmd: python src/models/train_model.py
    deps:
    - path: data/processed/train_df_processed.csv
      hash: md5
      md5: 9024ce919cf268fcaa3aaff2bc324a4e
      size: 93077
    - path: src/models/train_model.py
      hash: md5
      md5: dda2bf53bc69809b29bcfb26f9357385
      size: 9921
    params:
      params.yaml:
        train_model.max_depth:
        - 2
        - 8
        train_model.max_features:
        - 0.2
        - 0.6
        - 1.0
        train_model.max_samples:
        - 0.5
        - 0.75
        - 1.0
        train_model.min_samples_leaf:
        - 1
        - 2
        train_model.min_samples_split:
        - 2
        - 5
        train_model.n_estimators:
        - 20
        - 60
        - 100
        - 120
        train_model.n_jobs: -1
        train_model.random_state: 42
        train_model.verbose: 2
    outs:
    - path: models/rfclf_model.joblib
      hash: md5
      md5: 44e30f4245d901784abfa3cf8e5d8199
      size: 480329
  model_evaluation:
    cmd: python src/models/predict_model.py
    deps:
    - path: data/processed/test_df_processed.csv
      hash: md5
      md5: 77869274fffc3f6deb51ea27b033194a
      size: 41063
    - path: data/processed/train_df_processed.csv
      hash: md5
      md5: 9024ce919cf268fcaa3aaff2bc324a4e
      size: 93077
    - path: models/rfclf_model.joblib
      hash: md5
      md5: 44e30f4245d901784abfa3cf8e5d8199
      size: 480329
    - path: src/models/predict_model.py
      hash: md5
      md5: df3d7e84decdc6dbfa02c96e65cdc352
      size: 6611
    outs:
    - path: reports/experiment_info.json
      hash: md5
      md5: 6c42039a629beed87472dfb407861a5e
      size: 81
    - path: reports/metrics.json
      hash: md5
      md5: 543411f0def4f370d9548534a173df99
      size: 164
  model_registration:
    cmd: python src/models/register_model.py
    deps:
    - path: reports/experiment_info.json
      hash: md5
      md5: 6c42039a629beed87472dfb407861a5e
      size: 81
    - path: src/models/register_model.py
      hash: md5
      md5: 5be2dcaf18126b7a8647161d352ea8f4
      size: 2914
